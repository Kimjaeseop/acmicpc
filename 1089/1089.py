N = int(input())

dic = {0 : [['#', '#', '#'], ['#', '.', '#'], ['#', '.', '#'], ['#', '.', '#'], ['#', '#', '#']],
	1 : [['.', '.', '#'], ['.', '.', '#'], ['.', '.', '#'], ['.', '.', '#'], ['.', '.', '#']],
	2 : [['#', '#', '#'], ['.', '.', '#'], ['#', '#', '#'], ['#', '.', '.'], ['#', '#', '#']],
	3 : [['#', '#', '#'], ['.', '.', '#'], ['#', '#', '#'], ['.', '.', '#'], ['#', '#', '#']],
	4 : [['#', '.', '#'], ['#', '.', '#'], ['#', '#', '#'], ['.', '.', '#'], ['.', '.', '#']],
	5 : [['#', '#', '#'], ['#', '.', '.'], ['#', '#', '#'], ['.', '.', '#'], ['#', '#', '#']],
	6 : [['#', '#', '#'], ['#', '.', '.'], ['#', '#', '#'], ['#', ',', '#'], ['#', '#', '#']],
	7 : [['#', '#', '#'], ['.', '.', '#'], ['.', '.', '#'], ['.', '.', '#'], ['.', '.', '#']],
	8 : [['#', '#', '#'], ['#', '.', '#'], ['#', '#', '#'], ['#', '.', '#'], ['#', '#', '#']],
	9 : [['#', '#', '#'], ['#', '.', '#'], ['#', '#', '#'], ['.', '.', '#'], ['#', '#', '#']]}

lst = []
for i in range(5):
	s = input()
	lst.append(list(s))

N = 0 if N == 1 else 4 * (N - 1)
i = 0

arr = []
while i <= N:
	cnt = 0
	tmp = []

	for p in range(10):
		lst_2 = dic[p]

		found = True

		for y in range(5):
			for x in range(3):
				if lst[y][i+x] == '#' and lst_2[y][x] == '.':
					found = False
					break

			if not found:
				break

		if found:
			tmp.append(p)

	if len(tmp) == 0:
		print(-1)
		exit(0)
	else:
		arr.append(tmp)

	i += 4

ans = 0.0

for l in arr:
	ans *= 10
	ans += (sum(l) / len(l))

print(ans)
